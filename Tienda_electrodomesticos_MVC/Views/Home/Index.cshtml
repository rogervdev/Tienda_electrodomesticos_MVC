@model Tienda_electrodomesticos_MVC.Models.ViewModels.HomeViewModel
@inject IConfiguration Configuration

@{
    ViewData["Title"] = "Inicio";
    var api = Configuration["ApiBaseUrl"];
}

<!-- SLIDER -->
<div id="carouselExample" class="carousel slide mb-5" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="@($"{api}/images/ecom1.png")"
                 class="d-block w-100"
                 style="max-height:550px;object-fit:cover">
        </div>

        <div class="carousel-item">
            <img src="@($"{api}/images/ecom2.jpg")"
                 class="d-block w-100"
                 style="max-height:550px;object-fit:cover">
        </div>

        <div class="carousel-item">
            <img src="@($"{api}/images/ecom3.jpg")"
                 class="d-block w-100"
                 style="max-height:550px;object-fit:cover">
        </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Siguiente</span>
    </button>
</div>


<!-- CATEGORÍAS -->
<section class="container my-5">
    <h2 class="text-center mb-5 fw-bold text-primary">Categorías</h2>

    <div class="row justify-content-center g-4">
        @foreach (var c in Model.Categorias)
        {
            <div class="col-6 col-sm-4 col-md-2">
                <div class="card border-0 shadow-sm text-center p-3 h-100">
                    <img src="@($"{api}/images/category_img/{c.ImagenNombre}")"
                         class="img-fluid rounded-circle mx-auto mb-3 border border-primary p-1"
                         alt="@c.Nombre"
                         style="width:100px; height:100px; object-fit:cover" />

                    <a asp-controller="Productos"
                       asp-action="Index"
                       asp-route-categoria="@c.Nombre"
                       class="btn btn-outline-primary w-100 fw-semibold">
                        @c.Nombre
                    </a>
                </div>
            </div>
        }
    </div>
</section>


<!-- ÚLTIMOS PRODUCTOS -->
<section class="container my-5">
    <h2 class="text-center mb-5 fw-bold text-primary">Últimos Productos</h2>

    <div class="row justify-content-center g-4">
        
        @foreach (var p in Model.Productos)
        {
            <div class="col-6 col-sm-4 col-md-2">
                <div class="card border-0 shadow-sm text-center p-3 h-100">
                    <img src="@($"{api}/images/productos/{p.Imagen}")"
                         class="img-fluid rounded-circle mx-auto mb-3 border border-primary p-1"
                         alt="@p.Titulo"
                         style="width:100px;height:100px;object-fit:cover" />

                    <a asp-controller="Productos"
                       asp-action="Detalle"
                       asp-route-id="@p.Id"
                       class="btn btn-outline-primary w-100 fw-semibold">
                        @p.Titulo
                    </a>
                </div>
            </div>
        }
    </div>
</section>
